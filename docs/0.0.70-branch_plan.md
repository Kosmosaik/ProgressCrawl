# 0.0.70 – Exploration  
## Full Branch & Sub‑Branch Plan (Updated)

This is the updated master plan for Update **0.0.70 – Exploration**, reflecting
all recent architectural changes including:
• Data-driven zones  
• World map foundation  
• Procedural zone generation  
• Internal locked regions  
• Future dynamic biome/era unlocks  

---

# **0.0.70a2 — Data-Driven Zones & World Map Foundation (COMPLETED)**  

**Includes:**
- Introduced `zones.data.js` for zone definitions  
- Added `ZONE_TILE_SYMBOLS` for (`#` = wall, `.` = floor, `L` = locked)  
- Tutorial Zone fully data-driven with static ASCII layout  
- Default weather state added (no logic yet)  
- World Map foundation added:
  - 9×9 grid  
  - Fog of War states  
  - Tutorial Zone placement  
  - Placeholder adjacent zones  
- Matching panel layout for Zone ↔ World Map  
- All behavior unchanged (pure framework update)

---

# **0.0.70b — Zone Generation, Locked Subregions & Transitions (IN PROGRESS)**  
### *Goal:* Add generated layouts + movement between World Map and Zones.

**Includes:**

## **1. Procedural Zone Generation (CA Generator)**
- Add `zones.generator.js` module  
- Cellular Automata generator for zone shapes  
- Secondary area structure preparation  
- Chokepoint `L` tile generation (single-tile lock access)

## **2. Generated Zones for Tutorial Neighbors**
- Replace placeholder definitions with generated ones  
- Use generator config per zone  
- Weather property carried over

## **3. Internal Locked Regions**
- Identify sub-area behind an `L` tile  
- Mark second region as inaccessible until unlocked  
- Still hidden behind fog until explored

## **4. Zone ↔ World Map Transitions**
- Leave Zone → return to World Map  
- Enter Zone → load procedural or static zone  
- Fog-of-war state updates on world tiles  

---

# **0.0.70c — World Slot Generation & Era/Biome Unlocking**  
### *Goal:* Convert world map into fully dynamic & progression-driven structure.

**Includes:**
- World slot generator (assign template + seed per world cell)  
- `ZONE_TEMPLATES` system  
- Era unlock system (puzzle pieces → unlock new era)  
- Biome unlock system  
- Slot discovery logic:
  - Assign template/config only when the slot becomes visible  
  - Lazy tilemap generation on entry  

**Internal Logic:**
- Tutorial zone is always static  
- All other cells generated dynamically  
- Region gates (world-tile-level lock requirements)

---

# **0.0.70d — Static Zone Content Generation**  
### *Goal:* Fill generated zones with content before entering.

**Includes:**
- Biome definitions (pass 1)  
- Pre-generation of:
  - Resource nodes  
  - Static entities  
  - POIs  
  - Locations  
  - Locked-region contents  
- Tile reveal shows pre-generated content organically

**Internal Steps:**
1. Resource placement  
2. Entity placement  
3. POIs + Locations placement  

---

# **0.0.70e — Dynamic Event System**  
### *Goal:* Add unpredictable events during exploration.

Split into:

## **0.0.70e1 — Event Engine + Weather**
- Event scheduler  
- Cooldowns, weights  
- Dynamic weather changes (actual effects begin here)

## **0.0.70e2 — Encounter Events**
- Ambushes  
- Roaming enemies  
- Boss spawns  
- Encounter UI

## **0.0.70e3 — World Flavor Events**
- Disasters (storms, fires, quakes)  
- Travelling merchants  
- Wanderers  
- Seasonal events  
- Scripted events per zone  

---

# **0.0.70f — Resource Interaction Layer**  
### *Goal:* Make resource nodes interactable.

## **0.0.70f1 — Basic Interaction**
- Inspect window  
- Node info display  

## **0.0.70f2 — Harvesting + Depletion**
- Harvest action  
- Depleted node state  
- Remove or mark as “Depleted”  

## **0.0.70f3 — Respawn System**
- Node respawn timers  
- Reroll grade/subtype/placement  

---

# **0.0.70g — Entity Behavior (Non-Combat)**  
### *Goal:* Light environmental creature behavior.

## **0.0.70g1 — Passive Entity Behavior**
- Personality tags  
- Discovery integration  
- Interaction UI

## **0.0.70g2 — Roaming & Ambient Behavior**
- Movement loops  
- Environmental activity  

---

# **0.0.70h — Location Exploration**  
### *Goal:* Add enterable sub-zones inside zones.

**Includes:**
- Sub-zone tilemaps  
- Enter/exit transitions  
- Independent exploration percent  
- Return to root zone  

---

# **0.0.70i — POI Interaction System**  
### *Goal:* Make POIs functional.

## **0.0.70i1 — POI Base Framework**
- POI UI  
- Basic reward type  
- POI “complete” state

## **0.0.70i2 — Advanced POIs**
- Skill checks  
- Consequences  
- Unlock locked tiles  
- Puzzle POIs  
- Trap POIs  

---

# **0.0.70j — Difficulty Integration & Balancing**  
### *Goal:* Tie difficulty to content generation.

**Includes:**
- Difficulty affects resource weights  
- Entity scaling  
- POI rarity  
- World danger indicators  
- Zone difficulty display  

---

# **0.0.70k — Saving, Loading, Persistence**  
### *Goal:* Make world and zones fully persistent.

## **0.0.70k1 — World Map Persistence**
- Save/load world slot data  
- Save fog-of-war states  

## **0.0.70k2 — Zone Persistence**
- Save tile exploration  
- Save depletion  
- Save POI state  
- Save entity state  

## **0.0.70k3 — Timer Persistence**
- Resource respawn timers  
- Scheduled events  
- Weather transitions  

---

# **0.0.70l — Polish & Dev Tools**  
### *Goal:* Ease development + improve experience.

**Includes:**
- Zone debug overlay  
- Dev Tools:
  - Regenerate zone  
  - Reveal tiles  
  - Toggle events  
  - Resource spawn map  
- UI polish (icons, clarity, layout)  
- General bug fixes  

---

# **Optional Future Extensions (0.0.70m+)**
- Advanced weather simulation  
- Affixes / zone modifiers  
- NPC daily routines  
- Seasonal world changes  
- Rare mega-zones / legendary biomes  
